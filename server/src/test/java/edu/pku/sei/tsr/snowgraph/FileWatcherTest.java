package edu.pku.sei.tsr.snowgraph;

import org.junit.Test;

import java.io.IOException;

import static org.junit.Assert.assertTrue;

public class FileWatcherTest {
    @Test
    public void fileWatcherTest() throws IOException {
//        var fileWatcher = new FileWatcher("/home/woooking/lab/test");
//        File test1 = new File("/home/woooking/lab/test/test1");
//        File test2 = new File("/home/woooking/lab/test/test2");
//        assertTrue(test1.createNewFile());
//        assertTrue(test2.createNewFile());
//        assertTrue(test1.delete());
//        assertTrue(test2.delete());
//        StepVerifier.create(fileWatcher.getPublisher())
//            .expectNext(new ChangeEvent<>(ChangeEvent.Type.CREATED, Paths.get("/home/woooking/lab/test/test1")))
//            .expectNext(new ChangeEvent<>(ChangeEvent.Type.CREATED, Paths.get("/home/woooking/lab/test/test2")))
//            .expectNext(new ChangeEvent<>(ChangeEvent.Type.DELETED, Paths.get("/home/woooking/lab/test/test1")))
//            .expectNext(new ChangeEvent<>(ChangeEvent.Type.DELETED, Paths.get("/home/woooking/lab/test/test2")))
//            .thenCancel()
//            .verify();
    }
}
